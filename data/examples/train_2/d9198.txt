in articl 1993apr16 093209 25719 fwi uva nl stolk fwi uva nl bram write i am us an x server that provid 3 visual pseudocolor 8 bit truecolor 24 bit and directcolor 24 bit lucki dog a problem occur when i try to creat a window with a visual that is differ from the visual of the parent which us the default visual which is tc24 in the xlib refer guid from o reilli on can read in the section about xcteatewindow someth like in the current implement of x11 when us a visual other than the parent s be sure to creat or find a suitabl colourmap which is to be us in the window attribut when creat or els a badmatch occur thi warn strang enough is onli mention in the newer edit of the x11r5 guid it appli with equal forc to earlier version presum onli recent did the author s decid it wa import enough to mention the necess it refer to ha alwai been there but it s been implicit in the wai createwindow request default some attribut of the new window howev even if i pass along a suitabl colourmap i still get a badmatch when i creat a window with a non default visual attr colormap cmap win xcreatewindow copyfrompar border width 8 depth inputoutput class vinfo visual visual cwcolormap attr thi is becaus the warn you read is incomplet you have to provid not onli a colormap but also a border the default border is copyfrompar which is not valid when the window s depth doesn t match it parent s specifi a border pixmap of the correct depth or a border pixel and the problem should go awai there is anoth problem i can t find anyth to indic that copyfrompar make ani sens as the border_width paramet to xcreatewindow your xlib implement probabl defin copyfrompar as zero to simplifi the convers to wire format so you ar unwittingli ask for a border width of zero due to the xlib implement not provid stricter type check to be fair i m not entir certain it s possibl for xlib to catch thi der mous mous mcrcim mcgill edu

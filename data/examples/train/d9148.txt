i just got a bug report and a fix for thi exact problem from fisher iscp bellcor com greg fisher the most seriou problem i have identifi ha not been incorpor thi problem occur when the tabl widget s geometrymanag is invok by a child thi will work correctli if the tabl widget parent compli with the xt protocol howev if thei do not as is the case for some motif widget and thei ignor xtcwqueryonli then the size will be incorrect in order to see thi problem the follow event must happen 1 a child of the tabl widget must request a new size 2 the tabl widget must queri it parent for a new size have set xtcwqueryonli 3 the parent must ignor the xtcwqueryonli bit and resiz the tabl widget as part of the resiz xmptableforgetproposedlayout is call thi will set tw tabl current_col and tw tabl current_row to zero 4 the tabl will continu set up the new size work under the assumpt that it is work with a propos and not actual layout at the end it will call xmptablesaveproposedlayout thi will save tw tabl col and tw tabl row and restor their valu from tw tabl current_col and tw tabl current_row howev these have alreadi been set to zero 5 sinc the tabl widget ha alreadi been resiz it will not need a second resiz 6 next anoth widget manag by some ancestor of the tabl is resiz thi result in the parent of the tabl request the tabl prefer size sinc tw tabl col and tw tabl row ar zero thi will return 0x0 as the prefer size 7 the parent is veri like to grant thi request result in a loss of the whole tabl from the displai he isol the problem a propos a workaround which seem precis correct here is the new implement of xmptablenewproposedlayout which will be releas with the next updat in 5 week xmp tabl c void xmptablenewproposedlayout tw xmptablewidget tw xmptableconsidersames tw xmptableproposedcolsandrow tw xmptablequeryparentforres tw queri onli no resiz sinc we onli made a queri we should still need to continu howev motif is broken so that we actual mai alreadi have been resiz in that case the propos layout is alreadi forgotten so we should just quietli exit if tw tabl resiz_statu rsduetorequest xmptablemakecolsfitquerywidth tw xmptablemakerowsfitqueryheight tw xmptablegetproposedchilds tw xmptablesaveproposedlayout tw els the resiz ha alreadi been done our propos layout would have been forgotten in the process the xptabl the fix is ident except of cours for the name xp tabl c void xptablenewproposedlayout tw xptablewidget tw xptableconsidersames tw xptableproposedcolsandrow tw xptablequeryparentforres tw queri onli no resiz sinc we onli made a queri we should still need to continu howev some manag widget ar broken so that we actual mai alreadi have been resiz in that case the propos layout is alreadi forgotten so we should just quietli exit if tw tabl resiz_statu rsduetorequest xptablemakecolsfitquerywidth tw xptablemakerowsfitqueryheight tw xptablegetproposedchilds tw xptablesaveproposedlayout tw els the resiz ha alreadi been done our propos layout would have been forgotten in the process david smyth

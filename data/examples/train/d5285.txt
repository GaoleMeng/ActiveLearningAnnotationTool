in articl 1t31meinnrc8 gap caltech edu madler cco caltech edu mark adler write can someon who know what thei re talk about add a faq entri on gamma correct thank i get regular question about gamma correct sinc i go to great pain to deal with it properli in xli the imag loader program i maintain here is an explan i often us to answer these question thi might be suitabl for inclus in the faq graem gill a note on gamma correct and imag author graem w gill graem labtam oz au date 93 5 16 what is all thi gamma stuff anywai although it would be nice to think that an imag is an imag there ar a lot of complic not onli ar there a whole bunch of differ imag format gif jpeg tiff etc etc there is a whole lot of other technic stuff that make deal with imag a bit complic gamma is on of those thing if you ve ever download imag from bb or the net you ve probabl notic with most imag view program that some imag look ok some look too dark and some look too light why is thi you mai ask thi is gamma correct or the lack of it why do we need gamma correct at all gamma correct is need becaus of the natur of crt cathod rai tube the monitor usual us for view imag if you have some sort of real live scene and turn it into a comput imag by measur the amount of light come from each point of the scene then you have creat a linear or un gamma correct imag thi is a good thing in mani wai becaus you can manipul the imag as if the valu in the imag file were light ie ad and multipli will work just like real light in the real world now if you take the imag file and turn each pixel valu into a voltag and feed it into a crt you find that the crt _doesn t_ give you an amount of light proport to the voltag the amount of light come from the phosphor in the screen depend on the the voltag someth like thi light_out voltag crt_gamma so if you just dump your nice linear imag out to a crt the imag will look much too dark to fix thi up you have to gamma correct the imag first you need to do the opposit of what the crt will do to the imag so that thing cancel out and you get what you want so you have to do thi to your imag gamma_correct_imag imag 1 crt_gamma for most crt the crt_gamma is somewher between 1 0 and 3 0 if that is all it is why doe it seem so complic the problem is that not all displai program do gamma correct also not all sourc of imag give you linear imag video camera or video signal in gener becaus of thi a lot of imag alreadi have some gamma correct done to them and you ar rare sure how much if you try and displai on of those imag with a program that doe gamma correct for you the imag get correct twice and look wai to light if you displai on of those imag with a program that doesn t do gamma correct then it will look vagu right but not perfect becaus the gamma correct is not exactli right for you particular crt whose fault is all thi it is realli three thing on is all those displai program out there that don t do gamma correct properli anoth is that most imag format don t specifi a standard gamma or don t have some wai or record what their gamma correct is the third thing is that not mani peopl understand what gamma correct is all about and creat a lot of imag with vari gamma s at least two file format do the right thing the utah graphic toolkit rle format ha a semi standard wai of record the gamma of an imag the jfif file standard that us jpeg compress specifi that the imag to be encod must have a gamma of 1 0 ie a linear imag but not everyon obei the rule some imag loader for instanc xli an x11 imag util allow you to specifi not onli the gamma of the monitor you ar us but the individu gamma valu of imag you ar try to view other imag viewer eg xv anoth x11 imag program and util eg the pbm toolkit provid wai of chang the gamma of an imag but you have to figur out the overal gamma correct yourself allow for undo ani gamma correct the imag ha and then the gamma correct you need to suit your crt monitor note that xv 2 21 doesn t provid an easi wai of modifi the gamma of an imag you need to adjust the r g and b curv to the appropri gamma in the coledit control alter the intens in the hsv control doesn t do the right thing as it fail to take account of the effect gamma ha on h and s thi tend to give a tint to the imag how can i figur out what my viewer doe or what gamma my screen ha the simplest wai to do that is to try load the file chkgamma jpg provid with xli distribut which is a jfif jpeg format file contain two grayscal ramp the ramp ar chosen to look linear to the human ey on us continu tone and the other us dither if your viewer doe the right thing and gamma correct imag then the two ramp should look symmetr and the point at which thei look equal bright should be almost exactli half wai from the top to the bottom to find thi point it help if you move awai a littl from the screen and de focu your ey a bit if your viewer doesn t do gamma correct then left hand ramp will have a long dark part and a short white part and the point of equal bright will be abov the center if your viewer doe have a wai of set the right amount of gamma correct for a displai then if the equal bright point is abov center increas the gamma and decreas it if it is below the center the valu will usual be around 2 2 with xli for instanc you can adjust the displai gamma with the dispgamma flag and onc you ve got it right you can set the displai_gamma environ variabl in your profil how do i figur out what the gamma of an imag is thi is the most tricki bit as a gener rule it seem that a lot of true color ie 24 bit ppm jpg imag have a gamma of 1 0 linear although there ar mani about that have some gamma correct it seem that the major of pseudo color imag ie 8 bit imag with color map gif etc ar gamma correct to some degre or other if your viewer doe gamma correct then linear imag will look good and gamma correct imag will look too light if your viewer doesn t do gamma correct then linear imag will look too dark and gamma correct imag will ok why linear imag ar sometim not such a good thing on of the reason that mani high qualiti format such as video us gamma correct is that it actual make better us of the storag medium thi is becaus the human ey ha a logarithm respons to light and gamma correct ha a similar compress characterist thi mean imag could make better us of 8 bit per color for instanc if thei us gamma correct the implic though is that everi time you want to do ani imag process you should convert the 8 bit imag to 12 or so linear bit to retain the same accuraci sinc littl popular softwar doe thi and none of the popular imag format can agre on a standard gamma correct factor it is difficult to justifi gamma correct imag at the popular level if some imag format can standard on a particular gamma and if imag manipul softwar take care to us extra precis when deal with linear intern data then gamma correct distribut of imag would be a good thing i am told that the kodak photocd format for instanc ha a standard gamma correct factor that enabl it to get the highest qualiti out of the bit us to hold the imag

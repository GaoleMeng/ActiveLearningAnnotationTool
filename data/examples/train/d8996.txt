i m try to write some code that let me draw line and do rubber band box in motif x i m run on an 8 bit displai for which i ve creat a colormap and am us almost all of the color i want to draw the line in a draw area widget a widget in which i m displai a bitmap us xputimag if doesn t matter if the line i draw interact stai around when the window is refresh current to draw interact i begin with drawindex is an colort index i reserv for the foreground my_default_bg_color is the color index for the background of my imag palett_color drawindex red palett_color my_default_bg_color red palett_color drawindex green palett_color my_default_bg_color green palett_color drawindex blue palett_color my_default_bg_color blue xstorecolor mydisplai my_cmap palett_color drawindex 1 xflush mydisplai xsetfunct mydisplai gc gxxor xsetforeground mydisplai gc drawindex then to draw i do xdrawlin mydisplai xtwindow drawingarea1 gc x1 y1 x2 y2 xflush mydisplai and when i m all done to return thing to normal i do xsetfunct mydisplai gc gxcopi what i d like to happen is for the line i draw to be the invers of whatev i m draw over instead what happen is i get white line if the line ar over a white background noth show up if the line ar over a black area noth show up it s veri strang but the gxxor function seem right sinc if i do a rubber band box it eras and redraw itself correctli ie not disturb the underli imag ani suggest what i m do wrong david
